<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Convite Oficial ‚Äî Baile de M√°scaras</title>
  
  <!-- Apply theme immediately to prevent flash -->
  <script>
    (function(){
      const stored = localStorage.getItem('site-theme');
      const initial = stored || (window.matchMedia && window.matchMedia('(prefers-color-scheme: light)').matches ? 'light' : 'dark');
      if(initial === 'light') document.documentElement.setAttribute('data-theme', 'light');
    })();
  </script>
  
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Playfair+Display:ital,wght@0,700;1,700&family=Great+Vibes&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/css/styles.css">
  <link rel="icon" href="/images/favicon.svg" type="image/svg+xml">
</head>
<body class="invitation-page">
  <header class="site-header">
    <div class="brand">
      <h1>Baile de M√°scaras</h1>
      <p class="lead">Comemora√ß√£o aos 30 Anos de <span class="celebrant-name">Thamires Feres</span></p>
    </div>
    <button class="theme-toggle" aria-pressed="false" aria-label="Alternar tema" title="Alternar tema">
      <span class="icon">‚òæ</span>
      <span class="label">Tema</span>
    </button>
    <button class="hamburger" aria-label="Menu" aria-expanded="false">
      <span></span>
      <span></span>
      <span></span>
    </button>
    <nav class="main-nav" aria-label="Navega√ß√£o principal">
      <a href="/">In√≠cio</a>
      <a href="/pages/convite.html">Convite</a>
      <a href="/pages/codigo-vestes.html">C√≥digo de Vestes</a>
      <a href="/pages/premio.html">Pr√™mio</a>
      <a href="/pages/votacao.html" class="menu-votacao" style="display:none">Vota√ß√£o</a>
      <a href="/pages/confirmacao-simples.html">Confirma√ß√£o</a>
      <a href="/pages/tributos.html">Tributos</a>
    </nav>
  </header>

  <div class="container">
    <section class="card invitation-card">
      <!-- Bras√£o/Emblema no topo -->
      <div class="invitation-crest">
        <div class="crest-shield">
          <span style="font-family:'Great Vibes',cursive;font-size:2.5rem;color:#9a7a3e;">TF</span>
        </div>
        <div class="peacock-left">ü¶ö</div>
        <div class="peacock-right">ü¶ö</div>
      </div>
      
      <!-- T√≠tulo "Cr√¥nicas da Alta Sociedade" -->
      <div style="text-align:center;margin:20px 0 10px;">
        <p style="font-family:'Playfair Display',serif;font-size:0.95rem;color:var(--gold-dim);letter-spacing:0.15em;margin:0;">
          ‚ú¶ Cr√¥nicas da Alta Sociedade ‚ú¶
        </p>
      </div>
      
      <!-- T√≠tulo principal -->
      <div class="h-deco">
        <img src="/images/flourish.svg" alt="ornamento" class="ornament" aria-hidden="true" style="height:28px;margin-bottom:12px;">
        <h2 style="font-family:'Playfair Display',serif;font-size:2rem;font-style:italic;margin:12px 0;line-height:1.3;">
          O Baile de M√°scaras
        </h2>
        <p style="font-size:1rem;margin:8px 0;color:var(--accent);font-weight:400;">
          Em Celebra√ß√£o aos 30 Anos de Thamires Feres
        </p>
        <img src="/images/flourish.svg" alt="ornamento" class="ornament" aria-hidden="true" style="height:28px;margin-top:12px;transform:rotate(180deg);">
      </div>
      
      <!-- Ilustra√ß√£o do casal (usando emoji/texto por enquanto) -->
      <div style="text-align:center;margin:24px 0;font-size:4rem;opacity:0.7;">
        üíÉüï∫
      </div>
      
      <!-- Grid: Detalhes + Dicas de Estilo -->
      <div class="invitation-grid">
        <!-- Coluna esquerda: Detalhes da noite -->
        <div class="invitation-details">
          <div style="text-align:center;margin-bottom:20px;">
            <img src="/images/flourish.svg" alt="ornamento" class="ornament" aria-hidden="true" style="height:24px;opacity:0.7;">
            <h3 style="font-family:'Playfair Display',serif;font-size:1.3rem;margin:8px 0;color:var(--gold);">
              Os Detalhes da Noite
            </h3>
            <img src="/images/flourish.svg" alt="ornamento" class="ornament" aria-hidden="true" style="height:24px;opacity:0.7;transform:rotate(180deg);">
          </div>
          
          <div style="padding:20px;background:rgba(212,175,55,0.08);border-radius:12px;border:1px solid rgba(212,175,55,0.2);">
            <p style="margin:8px 0;font-size:0.95rem;line-height:1.7;color:var(--accent);">
              üìÖ <strong>Data:</strong> 21 de fevereiro de 2026
            </p>
            <p style="margin:8px 0;font-size:0.95rem;line-height:1.7;color:var(--accent);">
              üï∞ <strong>Hor√°rio:</strong> A partir das 20h
            </p>
            <p style="margin:8px 0;font-size:0.95rem;line-height:1.7;color:var(--accent);">
              üìç <strong>Local:</strong> Casa Festa<br>
              <span style="font-size:0.9rem;padding-left:24px;display:block;margin-top:4px;color:var(--accent-soft);">
                Avenida Oleg√°rio Maciel, 201, Santa Helena
              </span>
            </p>
          </div>
          
          <div style="display:flex;gap:10px;justify-content:center;margin-top:16px;flex-wrap:wrap;">
            <a href="https://www.google.com/maps/search/?api=1&query=Avenida+Oleg√°rio+Maciel+201+Santa+Helena" target="_blank" rel="noopener" class="btn secondary" style="display:inline-flex;align-items:center;gap:6px;text-decoration:none;font-size:0.85rem;padding:10px 16px;white-space:nowrap;">
              ÔøΩÔ∏è Google Maps
            </a>
            <a href="https://waze.com/ul?q=Avenida+Oleg√°rio+Maciel+201+Santa+Helena&navigate=yes" target="_blank" rel="noopener" class="btn secondary" style="display:inline-flex;align-items:center;gap:6px;text-decoration:none;font-size:0.85rem;padding:10px 16px;white-space:nowrap;">
              üöó Waze
            </a>
            <button onclick="copiarEndereco()" class="btn secondary" style="display:inline-flex;align-items:center;gap:6px;font-size:0.85rem;padding:10px 16px;white-space:nowrap;cursor:pointer;">
              üìã Copiar Endere√ßo
            </button>
          </div>
          
          <div style="margin-top:24px;padding:16px;background:rgba(212,175,55,0.06);border-radius:10px;border-left:3px solid var(--gold);">
            <p style="font-style:italic;font-size:0.95rem;line-height:1.7;margin:0;text-align:center;color:var(--accent-soft);">
              "Que vossas m√°scaras sejam primorosas e vossos trajes impec√°veis..."<br>
              <span style="font-family:'Great Vibes',cursive;font-size:1.1rem;color:var(--gold);margin-top:8px;display:block;">
                Contamos com vossa presen√ßa ilustre.
              </span>
            </p>
          </div>
        </div>
        
        <!-- Coluna direita: Dicas de Estilo -->
        <div class="invitation-tips">
          <div style="text-align:center;margin-bottom:16px;">
            <h3 style="font-family:'Playfair Display',serif;font-size:1.2rem;margin:8px 0;color:var(--gold);">
              Dicas de Estilo<br>para Baile:
            </h3>
          </div>
          
          <div style="background:rgba(212,175,55,0.05);padding:20px;border-radius:12px;border:1px solid rgba(212,175,55,0.15);">
            <ol style="list-style:decimal;padding-left:24px;margin:0;color:var(--accent);">
              <li style="margin:10px 0;font-size:0.95rem;line-height:1.6;">
                <strong>Traje:</strong> Elegante e sofisticado
              </li>
              <li style="margin:10px 0;font-size:0.95rem;line-height:1.6;">
                <strong>Mist√©rio:</strong> M√°scara obrigat√≥ria
              </li>
              <li style="margin:10px 0;font-size:0.95rem;line-height:1.6;">
                <strong>Brilho:</strong> Acess√≥rios discretos
              </li>
            </ol>
            
            <div style="margin-top:20px;padding-top:16px;border-top:1px solid rgba(212,175,55,0.2);">
              <a href="/pages/codigo-vestes.html" style="color:var(--gold);text-decoration:underline;font-size:0.9rem;font-weight:600;">
                ‚Üí Ver C√≥digo de Vestes Completo
              </a>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Bot√µes de a√ß√£o -->
      <div style="display:flex;gap:12px;justify-content:center;margin-top:32px;flex-wrap:wrap;">
        <a class="btn primary" href="/pages/confirmacao-simples.html" style="text-decoration:none;display:inline-flex;align-items:center;justify-content:center;font-size:0.95rem;">
          CONFIRMAR PRESEN√áA
        </a>
        <button class="btn secondary" onclick="visualizarConviteImagem()" style="font-size:0.95rem;">
          üñºÔ∏è Ver Convite Ilustrado
        </button>
        <button class="btn secondary" onclick="window.print()" style="font-size:0.95rem;">
          üñ® Imprimir Esta P√°gina
        </button>
      </div>
      
      <!-- Modal para visualizar imagem do convite -->
      <div id="modal-convite" style="display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.95);z-index:9999;padding:20px;overflow:auto;" onclick="fecharModalConvite()">
        <div style="position:relative;max-width:900px;margin:0 auto;padding:40px 20px;">
          <button onclick="fecharModalConvite()" style="position:absolute;top:10px;right:10px;background:rgba(255,255,255,0.9);border:none;border-radius:50%;width:40px;height:40px;font-size:24px;cursor:pointer;color:#333;z-index:10000;">√ó</button>
          
          <img id="convite-imagem" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 768 1024'%3E%3Crect fill='%23f5e6d3' width='768' height='1024'/%3E%3Ctext x='384' y='512' text-anchor='middle' font-size='24' fill='%23666'%3EImagem do Convite%3C/text%3E%3C/svg%3E" 
               alt="Convite Oficial - Baile de M√°scaras" 
               style="width:100%;max-width:768px;height:auto;border-radius:8px;box-shadow:0 8px 32px rgba(0,0,0,0.5);display:block;margin:0 auto;" 
               onclick="event.stopPropagation()">
          
          <div style="text-align:center;margin-top:20px;">
            <a id="btn-baixar-convite" href="#" download="Convite-Baile-de-Mascaras-Thamires-Feres.jpg" class="btn primary" style="text-decoration:none;display:inline-flex;align-items:center;gap:8px;font-size:0.95rem;margin:8px;">
              üíæ Baixar Imagem
            </a>
            <button onclick="compartilharConvite()" class="btn secondary" style="font-size:0.95rem;margin:8px;">
              üì§ Compartilhar
            </button>
          </div>
        </div>
      </div>
      
      <!-- Rodap√© -->
      <div style="text-align:center;margin-top:32px;padding-top:24px;border-top:1px solid rgba(212,175,55,0.2);">
        <p style="font-family:'Playfair Display',serif;font-style:italic;font-size:1rem;color:var(--muted);margin:0;">
          Seria um esc√¢ndalo se n√£o comparecesse.
        </p>
      </div>
    </section>
  </div>

  <footer class="site-footer">
    <p>Feito com esmero para uma noite inesquec√≠vel ‚Äî Inspirado por Bridgerton.</p>
  </footer>

  <script>
    // Fun√ß√£o para copiar endere√ßo
    function copiarEndereco() {
      const endereco = 'Avenida Oleg√°rio Maciel, 201, Santa Helena';
      
      // Tentar usar a API moderna do Clipboard
      if (navigator.clipboard && navigator.clipboard.writeText) {
        navigator.clipboard.writeText(endereco)
          .then(() => {
            // Feedback visual
            const btn = event.target.closest('button');
            const originalText = btn.innerHTML;
            btn.innerHTML = '‚úÖ Copiado!';
            btn.style.background = 'rgba(76, 175, 80, 0.2)';
            btn.style.borderColor = 'rgba(76, 175, 80, 0.4)';
            
            setTimeout(() => {
              btn.innerHTML = originalText;
              btn.style.background = '';
              btn.style.borderColor = '';
            }, 2000);
          })
          .catch(err => {
            console.error('Erro ao copiar:', err);
            alert('Endere√ßo: ' + endereco);
          });
      } else {
        // Fallback para navegadores antigos
        const textarea = document.createElement('textarea');
        textarea.value = endereco;
        textarea.style.position = 'fixed';
        textarea.style.opacity = '0';
        document.body.appendChild(textarea);
        textarea.select();
        
        try {
          document.execCommand('copy');
          const btn = event.target.closest('button');
          const originalText = btn.innerHTML;
          btn.innerHTML = '‚úÖ Copiado!';
          btn.style.background = 'rgba(76, 175, 80, 0.2)';
          
          setTimeout(() => {
            btn.innerHTML = originalText;
            btn.style.background = '';
          }, 2000);
        } catch (err) {
          alert('Endere√ßo: ' + endereco);
        }
        
        document.body.removeChild(textarea);
      }
    }
    
    // Fun√ß√µes para visualizar convite em imagem
    function visualizarConviteImagem() {
      const modal = document.getElementById('modal-convite');
      const img = document.getElementById('convite-imagem');
      const btnBaixar = document.getElementById('btn-baixar-convite');
      
      // URL da imagem do convite (tenta JPG primeiro, sen√£o usa SVG)
      const imagemUrl = '/images/convite-oficial.jpg';
      const imagemSvg = '/images/convite-oficial.svg';
      
      // Testar se JPG existe
      fetch(imagemUrl, { method: 'HEAD' })
        .then(response => {
          if (response.ok) {
            img.src = imagemUrl;
            btnBaixar.href = imagemUrl;
          } else {
            // Se n√£o existir, usa SVG
            img.src = imagemSvg;
            btnBaixar.href = imagemSvg;
            btnBaixar.download = 'Convite-Baile-de-Mascaras-Thamires-Feres.svg';
          }
        })
        .catch(() => {
          // Em caso de erro, usa SVG
          img.src = imagemSvg;
          btnBaixar.href = imagemSvg;
          btnBaixar.download = 'Convite-Baile-de-Mascaras-Thamires-Feres.svg';
        });
      
      modal.style.display = 'block';
      document.body.style.overflow = 'hidden'; // Previne scroll do body
    }
    
    function fecharModalConvite() {
      const modal = document.getElementById('modal-convite');
      modal.style.display = 'none';
      document.body.style.overflow = ''; // Restaura scroll
    }
    
    function compartilharConvite() {
      const url = window.location.href;
      const texto = 'Voc√™ est√° convidado para o Baile de M√°scaras em celebra√ß√£o aos 30 anos de Thamires Feres! üé≠‚ú®';
      
      // Tentar usar Web Share API (mobile)
      if (navigator.share) {
        navigator.share({
          title: 'Convite - Baile de M√°scaras',
          text: texto,
          url: url
        })
        .then(() => console.log('Compartilhado com sucesso!'))
        .catch((err) => console.log('Erro ao compartilhar:', err));
      } else {
        // Fallback: copiar link
        if (navigator.clipboard && navigator.clipboard.writeText) {
          navigator.clipboard.writeText(url)
            .then(() => {
              alert('‚úÖ Link copiado!\n\n' + texto + '\n\nCole e compartilhe: ' + url);
            })
            .catch(() => {
              alert('Link do convite:\n' + url);
            });
        } else {
          alert('Link do convite:\n' + url);
        }
      }
    }
    
    // Fechar modal com ESC
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        fecharModalConvite();
      }
    });
  </script>

  <script src="/js/main.js" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="/js/supabase-config.js"></script>
  <script src="/js/menu-votacao.js"></script>
</body>
</html>